# LV Dash

LifeVault GitHub Actions をスマホからワンタップで操作するPWAダッシュボード。

**URL**: https://hcstnb2047.github.io/LV-Dash/

## セットアップ

### 1. GitHub Fine-grained PAT を作成

#### 1-1. トークン作成ページを開く

PCまたはスマホのブラウザで以下にアクセスする。

https://github.com/settings/personal-access-tokens/new

（GitHub にログイン済みであること。未ログインの場合はログイン後にリダイレクトされる）

#### 1-2. 基本情報を入力

| 項目 | 入力値 |
|------|--------|
| **Token name** | `LV-Dash`（任意の名前でOK） |
| **Expiration** | `90 days` を推奨（最大1年まで選択可能） |
| **Description** | 空欄でOK |

#### 1-3. リポジトリアクセスを設定

1. **Repository access** で **「Only select repositories」** を選択
2. ドロップダウンから **`LifeVault`** を検索して選択
3. LifeVault だけが選ばれていることを確認

#### 1-4. Permissions（権限）を設定

「Repository permissions」セクションを展開し、以下の3つだけを設定する。他はすべて「No access」のままにする。

| Permission | 設定値 |
|-----------|--------|
| **Actions** | **Read and write** |
| **Contents** | **Read-only** |
| **Metadata** | **Read-only**（自動で付与される場合あり） |

#### 1-5. トークンを発行・コピー

1. ページ下部の **「Generate token」** をクリック
2. `github_pat_` で始まるトークン文字列が表示される
3. **「コピー」ボタン（📋）をクリック**してクリップボードにコピー

> このページを閉じるとトークンは二度と表示されない。コピーし忘れた場合は削除して再作成する。

### 2. LV Dash にPATを登録

#### スマホで設定する場合（推奨）

1. iPhone Safari で https://hcstnb2047.github.io/LV-Dash/ を開く
2. ウェルカム画面の **「PATを設定して始める」** をタップ
3. テキスト入力欄をタップし、**ペースト**（長押し→「ペースト」）でPATを貼り付ける
4. **「検証して保存」** をタップ
5. 「PAT設定完了」のトーストが出て、ワークフロー一覧が表示されたらセットアップ完了

#### PCで設定した後にスマホへ引き継ぐ場合

PATはブラウザのlocalStorageに暗号化保存される（端末ごとに異なるキー）。
PCとスマホで共有はされないため、**スマホでも同じPATを入力する必要がある**。

手順: メモアプリやパスワードマネージャーにPATを一時保存 → スマホの LV Dash でペースト → 一時保存を削除

### 3. ホーム画面に追加（PWA）

**iPhone Safari**:

1. 共有ボタン（□↑）をタップ
2. 「ホーム画面に追加」を選択
3. 「追加」をタップ

ホーム画面からアプリのように起動できるようになる。

## 使い方

### ワークフロー実行

1. カードの **▶ 実行** をタップ
2. inputs がある場合はフォームに入力
3. **実行する** をタップ
4. ステータスが自動更新される（30秒間隔、最大10分）

### お気に入り

- カード左の **☆** をタップで ★ に切替
- お気に入りは一覧の先頭に表示される
- フィルターの **★** タブでお気に入りだけ表示

### カテゴリフィルター

| カテゴリ | 内容 |
|---------|------|
| 記録 | 記事収集、健康データ取込、Task同期 |
| 分析 | メンタルウェザー、ウェルビーイング、月次レポート |
| リマインダー | 朝リマインダー、週報、Issue棚卸し |
| リサーチ | Deep Research、書籍リサーチ |
| iPhone | iPhoneコマンド |
| システム | Streakバッジ、ラベル初期化、デバッグ用 |

### 実行履歴

カードをタップすると、直近3回の実行結果が展開表示される。

### 設定画面

- **PAT管理**: 検証・削除・再設定
- **テーマ**: OS連動 / ライト / ダーク
- **ワークフロー表示**: 個別にON/OFF切替

## PAT更新手順

PATの有効期限が切れた場合:

1. GitHub で新しいPATを発行（手順1と同じ）
2. LV Dash の設定画面を開く
3. 「PATを削除」をタップ
4. 新しいPATを入力して「検証して保存」

## 技術スタック

Vite + React + TypeScript + Tailwind CSS v4 + React Router (HashRouter) + Vite PWA Plugin

GitHub Pages でホスティング、main push で自動デプロイ。
